
    <title>Customer Records Dashboard</title>
    <link rel="stylesheet" href="/css/gen_cust.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


   <div class="container" id="main-content">
        <div class="controls-bar">
            <div class="date-filters">
                <i class="fas fa-calendar-alt"></i>
                <span class="label">Date filters</span>
                <select name="year" id="year-select">
                    <option value="2025">2025</option>
                    <option value="2024">2024</option>
                </select>
                <select name="month" id="month-select">
                    <option value="October">October</option>
                    <option value="September">September</option>
                </select>
                <div class="date-input-group">
                    <span class="label">From:</span>
                    <input type="date" value="2025-10-27" id="date-from">
                </div>
                <div class="date-input-group">
                    <span class="label">To:</span>
                    <input type="date" value="2025-10-27" id="date-to">
                </div>
            </div>
            <div class="status-tabs">
                <button class="status-tab **all**">All</button>
                <button class="status-tab active">Active</button>
                <button class="status-tab **dormant selected**">Dormant</button>
                <button class="status-tab black-list">Black-List</button>
            </div>
        </div>
        <header class="header">
            <div class="search-bar">
                <div class="search-icon-and-view">
                    <i class="fas fa-search"></i>
                    <i class="fas fa-eye view-icon"></i>
                    <span class="view-label">view</span> 
                </div>
                <input type="text" id="searchInput" placeholder="Type here to search" onkeyup="filterTable()">
            </div>
            <button class="group-by-btn"><i class="fas fa-layer-group"></i> Group By</button>
        </header>

        <main class="table-section" id="main-content">
            <table id="customerTable">
                <thead>
                    <tr>
                        <th></th> <th>CCIN</th>
                        <th>File No.</th>
                        <th>Name</th>
                        <th>Contact</th>
                        <th>Status</th>
                        <th>Amount</th>
                        <th>LTA</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-name="Joel Keli Wambua">
                        <td>
                            <i class="fas fa-magnifying-glass view-btn" onclick="viewCustomer(this)"></i>
                            <i class="fas fa-pen-to-square edit-btn" onclick="editCustomer(this)"></i>

                        </td>
                        <td>CCIN00402</td>
                        <td>11052042</td>
                        <td>Joel Keli Wambua</td>
                        <td>254721801562</td>
                        <td><input type="checkbox" checked disabled></td>
                        <td>10000</td>
                        <td>S</td>
                    </tr>
                    <tr data-name="Bathlomew Oketch">
                        <td>
                            <i class="fas fa-magnifying-glass view-btn" onclick="viewCustomer(this)"></i>
                            <i class="fas fa-pen-to-square edit-btn" onclick="editCustomer(this)"></i>
                        </td>
                        <td>CCIN00388</td>
                        <td>11723348</td>
                        <td>Bathlomew Oketch</td>
                        <td>254722448694</td>
                        <td><input type="checkbox" checked disabled></td>
                        <td>10000</td>
                        <td>S</td>
                    </tr>
                    <tr data-name="Derrick Nyaga Njeru">
                        <td>
                           <i class="fas fa-magnifying-glass view-btn" onclick="viewCustomer(this)"></i>
                            <i class="fas fa-pen-to-square edit-btn" onclick="editCustomer(this)"></i>
                        </td>
                        <td>CCIN00401</td>
                        <td>13253474</td>
                        <td>Derrick Nyaga Njeru</td>
                        <td>254728448060</td>
                        <td><input type="checkbox" checked disabled></td>
                        <td>20000</td>
                        <td>S</td>
                    </tr>
                    <tr data-name="Faith Gakii Mati">
                        <td>
                            <i class="fas fa-magnifying-glass view-btn" onclick="viewCustomer(this)"></i>
                            <i class="fas fa-pen-to-square edit-btn" onclick="editCustomer(this)"></i>
                        </td>
                        <td>CCIN00387</td>
                        <td>23940609</td>
                        <td>Faith Gakii Mati</td>
                        <td>254726706759</td>
                        <td><input type="checkbox" checked disabled></td>
                        <td>30000</td>
                        <td>S</td>
                    </tr>
                    </tbody>
            </table>
        </main>

        <footer class="footer">
            <div class="actions-left">
                <button class="action-btn add-new-btn" onclick="loadContent(this, 'customers/add')">
                    <i class="fas fa-plus-circle"></i> Add New
                </button>
                <button class="action-btn import-btn" onclick="openPage('import')">
                    <i class="fas fa-upload"></i> Import
                </button>
            </div>
            <div class="summary-right">
                <span class="total-records">Total Records: 5</span>
                <span class="size-display">Size: 10</span>
                <div class="pagination-controls">
                    <button>&lt;&lt;</button>
                    <button>&lt;</button>
                    <span>Pg 1 / 1</span>
                    <button>&gt;</button>
                    <button>&gt;&gt;</button>
                </div>
            </div>
        </footer>
    </div>

    <script>
    

       async function loadContent(el, pagePath) {
                document.querySelectorAll('.active').forEach(a => a.classList.remove('active'));
                if (el) el.classList.add('active');

                const contentBody = document.getElementById('content-body');

                // ðŸ‘‡ this version assumes page is in the same folder
                const filePath = `${pagePath.toLowerCase().replace(/\s+/g, '_')}.html`;

                try {
                    const res = await fetch(filePath);
                    if (!res.ok) throw new Error(`HTTP ${res.status}`);
                    const html = await res.text();
                    contentBody.innerHTML = html;
                } catch (err) {
                    contentBody.innerHTML = `<p style="color:red;">Error loading <b>${pagePath}</b>: ${err.message}</p>`;
                }
        }

        // Simple search/filter function
        function filterTable() {
            const input = document.getElementById('searchInput');
            const filter = input.value.toUpperCase();
            const table = document.getElementById('customerTable');
            const tr = table.getElementsByTagName('tr');

            // Start from 1 to skip the header row (tr[0])
            for (let i = 1; i < tr.length; i++) {
                let rowText = tr[i].textContent || tr[i].innerText;
                if (rowText.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = '';
                } else {
                    tr[i].style.display = 'none';
                }
            }
        }

 </script>
<script src="/js/customers/customer-individual.js"></script>

